import{g as k,i as H,j as I,k as E,l as L,H as V,m as M,o as T,s as m,q as A,r as Y,c as y,t as q,u as P,v as $,w as j,x as z,y as B,a as C,p as W,h as b,z as F,e as G,A as J}from"./runtime.-mgUMQ6S.js";import{b as K}from"./disclose-version.CJ4EiInT.js";const Q=new Set,N=new Set;function v(r){var R;var e=this,o=e.ownerDocument,l=r.type,i=((R=r.composedPath)==null?void 0:R.call(r))||[],t=i[0]||r.target,u=0,c=r.__root;if(c){var d=i.indexOf(c);if(d!==-1&&(e===document||e===window)){r.__root=e;return}var f=i.indexOf(e);if(f===-1)return;d<=f&&(u=d)}if(t=i[u]||r.target,t!==e){k(r,"currentTarget",{configurable:!0,get(){return t||o}});try{for(var _,a=[];t!==null;){var n=t.assignedSlot||t.parentNode||t.host||null;try{var s=t["__"+l];if(s!==void 0&&!t.disabled)if(H(s)){var[g,...p]=s;g.apply(t,[r,...p])}else s.call(t,r)}catch(w){_?a.push(w):_=w}if(r.cancelBubble||n===e||n===null)break;t=n}if(_){for(let w of a)queueMicrotask(()=>{throw w});throw _}}finally{r.__root=e,delete r.currentTarget}}}const U=["wheel","mousewheel","touchstart","touchmove"];function X(r){return U.includes(r)}let O=!0;function er(r,e){e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function Z(r,e){const o=e.anchor??e.target.appendChild(I());return D(r,{...e,anchor:o})}function tr(r,e){E(),e.intro=e.intro??!1;const o=e.target,l=b,i=y;try{for(var t=L(o);t&&(t.nodeType!==8||t.data!==V);)t=M(t);if(!t)throw T;m(!0),A(t),Y();const u=D(r,{...e,anchor:t});if(y===null||y.nodeType!==8||y.data!==q)throw P(),T;return m(!1),u}catch(u){if(u===T)return e.recover===!1&&$(),E(),j(o),m(!1),Z(r,e);throw u}finally{m(l),A(i)}}const h=new Map;function D(r,{target:e,anchor:o,props:l={},events:i,context:t,intro:u=!0}){E();var c=new Set,d=a=>{for(var n=0;n<a.length;n++){var s=a[n];if(!c.has(s)){c.add(s);var g=X(s);e.addEventListener(s,v,{passive:g});var p=h.get(s);p===void 0?(document.addEventListener(s,v,{passive:g}),h.set(s,1)):h.set(s,p+1)}}};d(z(Q)),N.add(d);var f=void 0,_=B(()=>(C(()=>{if(t){W({});var a=J;a.c=t}i&&(l.$$events=i),b&&K(o,null),O=u,f=r(o,l)||{},O=!0,b&&(F.nodes_end=y),t&&G()}),()=>{for(var a of c){e.removeEventListener(a,v);var n=h.get(a);--n===0?(document.removeEventListener(a,v),h.delete(a)):h.set(a,n)}N.delete(d),S.delete(f)}));return S.set(f,_),f}let S=new WeakMap;function ar(r){const e=S.get(r);e&&e()}export{O as a,tr as h,Z as m,er as s,ar as u};
